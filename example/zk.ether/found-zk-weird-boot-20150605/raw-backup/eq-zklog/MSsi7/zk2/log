PING 192.168.42.2 (192.168.42.2): 56 data bytes
--- 192.168.42.2 ping statistics ---
1 packets transmitted, 1 packets received, 0% packet loss
round-trip min/avg/max/stddev = 0.045/0.045/0.045/0.000 ms
ZooKeeper JMX enabled by default
/usr/bin/java
Using config: /zk/bin/../conf/zoo.cfg
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8
2015-06-05 07:33:01,049 [myid:] - INFO  [main:QuorumPeerConfig@114] - Reading configuration from: /zk/bin/../conf/zoo.cfg
2015-06-05 07:33:01,053 [myid:] - INFO  [main:QuorumPeerConfig@306] - clientPort is not set
2015-06-05 07:33:01,053 [myid:] - INFO  [main:QuorumPeerConfig@320] - secureClientPort is not set
2015-06-05 07:33:01,056 [myid:] - WARN  [main:QuorumPeerConfig@555] - No server failure will be tolerated. You need at least 3 servers.
2015-06-05 07:33:01,058 [myid:2] - WARN  [main:QuorumPeerConfig@620] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2015-06-05 07:33:01,116 [myid:2] - INFO  [main:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2015-06-05 07:33:01,116 [myid:2] - INFO  [main:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2015-06-05 07:33:01,116 [myid:2] - INFO  [main:DatadirCleanupManager@101] - Purge task is not scheduled.
2015-06-05 07:33:01,120 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:hiearchy=default
2015-06-05 07:33:01,120 [myid:2] - DEBUG [main:HierarchyDynamicMBean@260] - postRegister is called.
2015-06-05 07:33:01,121 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=root
2015-06-05 07:33:01,121 [myid:2] - DEBUG [main:LoggerDynamicMBean@258] - Adding AppenderMBean for appender named CONSOLE
2015-06-05 07:33:01,122 [myid:2] - DEBUG [main:AppenderDynamicMBean@158] - getMBeanInfo called.
2015-06-05 07:33:01,123 [myid:2] - DEBUG [main:AppenderDynamicMBean@337] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:appender=CONSOLE
2015-06-05 07:33:01,123 [myid:2] - DEBUG [main:AppenderDynamicMBean@197] - Adding LayoutMBean:CONSOLE,layout=org.apache.log4j.PatternLayout
2015-06-05 07:33:01,123 [myid:2] - DEBUG [main:LayoutDynamicMBean@140] - getMBeanInfo called.
2015-06-05 07:33:01,125 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:appender=CONSOLE,layout=org.apache.log4j.PatternLayout
2015-06-05 07:33:01,125 [myid:2] - DEBUG [main:LoggerDynamicMBean@258] - Adding AppenderMBean for appender named SYSLOG
2015-06-05 07:33:01,125 [myid:2] - DEBUG [main:AppenderDynamicMBean@158] - getMBeanInfo called.
2015-06-05 07:33:01,126 [myid:2] - DEBUG [main:AppenderDynamicMBean@337] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:appender=SYSLOG
2015-06-05 07:33:01,126 [myid:2] - DEBUG [main:AppenderDynamicMBean@197] - Adding LayoutMBean:SYSLOG,layout=org.apache.log4j.PatternLayout
2015-06-05 07:33:01,126 [myid:2] - DEBUG [main:LayoutDynamicMBean@140] - getMBeanInfo called.
2015-06-05 07:33:01,126 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:appender=SYSLOG,layout=org.apache.log4j.PatternLayout
2015-06-05 07:33:01,126 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [root] as listener.
2015-06-05 07:33:01,127 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.zookeeper.common.AtomicFileOutputStream
2015-06-05 07:33:01,127 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.common.AtomicFileOutputStream] as listener.
2015-06-05 07:33:01,128 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.log4j.jmx.LoggerDynamicMBean
2015-06-05 07:33:01,128 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.log4j.jmx.LoggerDynamicMBean] as listener.
2015-06-05 07:33:01,128 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.zookeeper.jmx.MBeanRegistry
2015-06-05 07:33:01,128 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.jmx.MBeanRegistry] as listener.
2015-06-05 07:33:01,128 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.zookeeper.server.quorum.QuorumPeerConfig
2015-06-05 07:33:01,128 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.quorum.QuorumPeerConfig] as listener.
2015-06-05 07:33:01,129 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.log4j.jmx.AppenderDynamicMBean
2015-06-05 07:33:01,129 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.log4j.jmx.AppenderDynamicMBean] as listener.
2015-06-05 07:33:01,129 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.zookeeper.server.quorum.QuorumPeerMain
2015-06-05 07:33:01,129 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.quorum.QuorumPeerMain] as listener.
2015-06-05 07:33:01,129 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.log4j.jmx.HierarchyDynamicMBean
2015-06-05 07:33:01,129 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.log4j.jmx.HierarchyDynamicMBean] as listener.
2015-06-05 07:33:01,130 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.zookeeper.server.DatadirCleanupManager
2015-06-05 07:33:01,130 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.zookeeper.server.DatadirCleanupManager] as listener.
2015-06-05 07:33:01,130 [myid:2] - DEBUG [main:AbstractDynamicMBean@148] - preRegister called. Server=com.sun.jmx.mbeanserver.JmxMBeanServer@214b5739, name=log4j:logger=org.apache.log4j.jmx.LayoutDynamicMBean
2015-06-05 07:33:01,130 [myid:2] - DEBUG [main:HierarchyDynamicMBean@128] - ---Adding logger [org.apache.log4j.jmx.LayoutDynamicMBean] as listener.
2015-06-05 07:33:01,130 [myid:2] - INFO  [main:QuorumPeerMain@136] - Starting quorum peer
2015-06-05 07:33:01,137 [myid:2] - INFO  [main:NIOServerCnxnFactory@673] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2015-06-05 07:33:01,140 [myid:2] - INFO  [main:NIOServerCnxnFactory@686] - binding to port /0.0.0.0:2181
2015-06-05 07:33:01,159 [myid:2] - INFO  [main:Slf4jLog@67] - Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
2015-06-05 07:33:01,160 [myid:2] - DEBUG [main:Slf4jLog@40] - Container Server@23dac0d9 + SocketConnector@0.0.0.0:8080 as connector
2015-06-05 07:33:01,168 [myid:2] - DEBUG [main:Slf4jLog@40] - Container Server@23dac0d9 + org.mortbay.jetty.servlet.Context@19e10522{/,null} as handler
2015-06-05 07:33:01,169 [myid:2] - DEBUG [main:Slf4jLog@40] - Container org.mortbay.jetty.servlet.Context@19e10522{/,null} + ServletHandler@4180874 as handler
2015-06-05 07:33:01,185 [myid:2] - DEBUG [main:Slf4jLog@40] - Container ServletHandler@4180874 + org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267 as servlet
2015-06-05 07:33:01,186 [myid:2] - DEBUG [main:Slf4jLog@40] - Container ServletHandler@4180874 + (S=org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267,[/commands/*]) as servletMapping
2015-06-05 07:33:01,188 [myid:2] - DEBUG [main:Slf4jLog@40] - filterNameMap=null
2015-06-05 07:33:01,189 [myid:2] - DEBUG [main:Slf4jLog@40] - pathFilters=null
2015-06-05 07:33:01,189 [myid:2] - DEBUG [main:Slf4jLog@40] - servletFilterMap=null
2015-06-05 07:33:01,189 [myid:2] - DEBUG [main:Slf4jLog@40] - servletPathMap={/commands/*=org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267}
2015-06-05 07:33:01,189 [myid:2] - DEBUG [main:Slf4jLog@40] - servletNameMap={org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267=org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267}
2015-06-05 07:33:01,191 [myid:2] - DEBUG [main:FileTxnSnapLog@84] - Opening datadir:/zk_data snapDir:/zk_data
2015-06-05 07:33:01,193 [myid:2] - INFO  [main:QuorumPeer@1239] - Local sessions disabled
2015-06-05 07:33:01,193 [myid:2] - INFO  [main:QuorumPeer@1250] - Local session upgrading disabled
2015-06-05 07:33:01,193 [myid:2] - INFO  [main:QuorumPeer@1217] - tickTime set to 2000
2015-06-05 07:33:01,193 [myid:2] - INFO  [main:QuorumPeer@1261] - minSessionTimeout set to 4000
2015-06-05 07:33:01,194 [myid:2] - INFO  [main:QuorumPeer@1272] - maxSessionTimeout set to 40000
2015-06-05 07:33:01,194 [myid:2] - INFO  [main:QuorumPeer@1287] - initLimit set to 10
2015-06-05 07:33:01,202 [myid:2] - INFO  [main:QuorumPeer@703] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-06-05 07:33:01,246 [myid:2] - INFO  [main:QuorumPeer@718] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2015-06-05 07:33:01,336 [myid:2] - INFO  [main:Slf4jLog@67] - jetty-6.1.26
2015-06-05 07:33:01,347 [myid:2] - DEBUG [main:Slf4jLog@40] - Container Server@23dac0d9 + org.mortbay.thread.QueuedThreadPool@15136bda as threadpool
2015-06-05 07:33:01,348 [myid:2] - DEBUG [main:Slf4jLog@40] - started org.mortbay.thread.QueuedThreadPool@15136bda
2015-06-05 07:33:01,360 [myid:2] - DEBUG [main:Slf4jLog@40] - Container org.mortbay.jetty.servlet.Context@19e10522{/,null} + ErrorHandler@46f82888 as errorHandler
2015-06-05 07:33:01,360 [myid:2] - DEBUG [main:Slf4jLog@40] - filterNameMap=null
2015-06-05 07:33:01,360 [myid:2] - DEBUG [main:Slf4jLog@40] - pathFilters=null
2015-06-05 07:33:01,360 [myid:2] - DEBUG [main:Slf4jLog@40] - servletFilterMap=null
2015-06-05 07:33:01,360 [myid:2] - DEBUG [main:Slf4jLog@40] - servletPathMap={/commands/*=org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267}
2015-06-05 07:33:01,361 [myid:2] - DEBUG [main:Slf4jLog@40] - servletNameMap={org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267=org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267}
2015-06-05 07:33:01,361 [myid:2] - DEBUG [main:Slf4jLog@40] - starting ServletHandler@4180874
2015-06-05 07:33:01,361 [myid:2] - DEBUG [main:Slf4jLog@40] - started ServletHandler@4180874
2015-06-05 07:33:01,361 [myid:2] - DEBUG [main:Slf4jLog@40] - starting org.mortbay.jetty.servlet.Context@19e10522{/,null}
2015-06-05 07:33:01,361 [myid:2] - DEBUG [main:Slf4jLog@40] - starting ErrorHandler@46f82888
2015-06-05 07:33:01,361 [myid:2] - DEBUG [main:Slf4jLog@40] - started ErrorHandler@46f82888
2015-06-05 07:33:01,362 [myid:2] - DEBUG [main:Slf4jLog@40] - started org.apache.zookeeper.server.admin.JettyAdminServer$CommandServlet-1720746267
2015-06-05 07:33:01,362 [myid:2] - DEBUG [main:Slf4jLog@40] - started org.mortbay.jetty.servlet.Context@19e10522{/,null}
2015-06-05 07:33:01,362 [myid:2] - DEBUG [main:Slf4jLog@40] - starting Server@23dac0d9
2015-06-05 07:33:01,363 [myid:2] - INFO  [main:Slf4jLog@67] - Started SocketConnector@0.0.0.0:8080
2015-06-05 07:33:01,363 [myid:2] - DEBUG [main:Slf4jLog@40] - started SocketConnector@0.0.0.0:8080
2015-06-05 07:33:01,363 [myid:2] - DEBUG [main:Slf4jLog@40] - started Server@23dac0d9
2015-06-05 07:33:01,367 [myid:2] - INFO  [main:JettyAdminServer@93] - Started AdminServer on port 8080, command URL /commands
2015-06-05 07:33:01,377 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.2: /192.168.42.2
2015-06-05 07:33:01,377 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.2: /192.168.42.2
2015-06-05 07:33:01,377 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: /192.168.42.2:3888
2015-06-05 07:33:01,378 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@909] - Starting quorum peer
2015-06-05 07:33:01,382 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@945] - LOOKING
2015-06-05 07:33:01,383 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@874] - Initializing leader election protocol...
2015-06-05 07:33:01,384 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@790] - Updating proposal: -9223372036854775808 (newleader), 0x8000000000000000 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
2015-06-05 07:33:01,384 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x8000000000000000
2015-06-05 07:33:01,385 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@673] - Sending Notification: -9223372036854775808 (n.leader), 0x8000000000000000 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x8000000000000000 (n.peerEpoch)
2015-06-05 07:33:01,385 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.1: /192.168.42.1
2015-06-05 07:33:01,385 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.1: /192.168.42.1
2015-06-05 07:33:01,385 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 1
2015-06-05 07:33:01,392 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@459] - Cannot open channel to 1 at election address /192.168.42.1:3888
java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:579)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:444)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:485)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:421)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:481)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:460)
	at java.lang.Thread.run(Thread.java:745)
2015-06-05 07:33:01,585 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@523] - Queue size: 1
2015-06-05 07:33:01,586 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.1: /192.168.42.1
2015-06-05 07:33:01,586 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.1: /192.168.42.1
2015-06-05 07:33:01,586 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@440] - Opening channel to server 1
2015-06-05 07:33:01,589 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@446] - Connected to server 1
2015-06-05 07:33:01,590 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
2015-06-05 07:33:01,591 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@923] - Notification time out: 400
2015-06-05 07:33:01,720 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@336] - Receive new notification message. My id = 2
2015-06-05 07:33:01,720 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-06-05 07:33:01,721 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@816] - I'm an observer: 2
2015-06-05 07:33:01,721 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@637] - About to leave FLE instance: leader=1, zxid=0x0, my id=2, my state=OBSERVING
2015-06-05 07:33:01,722 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-06-05 07:33:01,722 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@1008] - OBSERVING
2015-06-05 07:33:01,724 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Learner@88] - TCP NoDelay set to: true
2015-06-05 07:33:01,727 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:zookeeper.version=3.6.0-SNAPSHOT--1, built on 04/09/2015 07:07 GMT
2015-06-05 07:33:01,727 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:host.name=zk2
2015-06-05 07:33:01,727 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:java.version=1.7.0_65
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:java.vendor=Oracle Corporation
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:java.class.path=/zk/bin/../build/classes:/zk/bin/../build/lib/slf4j-log4j12-1.7.5.jar:/zk/bin/../build/lib/slf4j-api-1.7.5.jar:/zk/bin/../build/lib/servlet-api-2.5-20081211.jar:/zk/bin/../build/lib/netty-3.7.0.Final.jar:/zk/bin/../build/lib/log4j-1.2.16.jar:/zk/bin/../build/lib/jline-2.11.jar:/zk/bin/../build/lib/jetty-util-6.1.26.jar:/zk/bin/../build/lib/jetty-6.1.26.jar:/zk/bin/../build/lib/javacc.jar:/zk/bin/../build/lib/jackson-mapper-asl-1.9.11.jar:/zk/bin/../build/lib/jackson-core-asl-1.9.11.jar:/zk/bin/../build/lib/commons-cli-1.2.jar:/zk/bin/../lib/*.jar:/zk/bin/../zookeeper-*.jar:/zk/bin/../src/java/lib/ivy-2.2.0.jar:/zk/bin/../conf:
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:java.io.tmpdir=/tmp
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:java.compiler=<NA>
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:os.name=Linux
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:os.arch=amd64
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:os.version=3.19.0-18-generic
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:user.name=root
2015-06-05 07:33:01,728 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:user.home=/root
2015-06-05 07:33:01,729 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:user.dir=/zk
2015-06-05 07:33:01,729 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:os.memory.free=214MB
2015-06-05 07:33:01,729 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:os.memory.max=889MB
2015-06-05 07:33:01,729 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Environment@109] - Server environment:os.memory.total=239MB
2015-06-05 07:33:01,730 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-06-05 07:33:01,730 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-06-05 07:33:01,730 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /zk_data/version-2 snapdir /zk_data/version-2
2015-06-05 07:33:01,730 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):ObserverZooKeeperServer@56] - syncEnabled =true
2015-06-05 07:33:01,732 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Observer@72] - Observing /192.168.42.1:2888
2015-06-05 07:33:02,016 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Learner@369] - Getting a snapshot from leader
2015-06-05 07:33:02,246 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-06-05 07:33:02,282 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000000 to /zk_data/version-2/snapshot.100000000
2015-06-05 07:33:02,460 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-06-05 07:33:02,525 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@1329] - Restarting Leader Election
2015-06-05 07:33:02,525 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@652] - Shutting down connection manager
2015-06-05 07:33:02,525 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@537] - Halting listener
2015-06-05 07:33:02,526 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=/192.168.42.2,localport=3888]
2015-06-05 07:33:02,526 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$Listener@683] - Closing listener: 2
2015-06-05 07:33:02,526 [myid:2] - INFO  [/192.168.42.2:3888:QuorumCnxManager$Listener@659] - Leaving listener
2015-06-05 07:33:02,526 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@554] - Halting sender: Thread[SendWorker:1,5,main]
2015-06-05 07:33:02,526 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$SendWorker@743] - Calling finish for 1
2015-06-05 07:33:02,526 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
2015-06-05 07:33:02,526 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
2015-06-05 07:33:02,526 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
2015-06-05 07:33:02,527 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
2015-06-05 07:33:02,526 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@654] - Shutting down messenger
2015-06-05 07:33:02,527 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
2015-06-05 07:33:02,528 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@656] - FLE is down
2015-06-05 07:33:02,528 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
2015-06-05 07:33:02,528 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
2015-06-05 07:33:02,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@1750] - Becoming a non-voting participant
2015-06-05 07:33:02,529 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: /192.168.42.2:3888
2015-06-05 07:33:02,529 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Observer@86] - Exception when observing the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:498)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:79)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1010)
2015-06-05 07:33:02,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=StandaloneServer_port-1]
2015-06-05 07:33:02,529 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Observer@164] - shutdown called
java.lang.Exception: shutdown Observer
	at org.apache.zookeeper.server.quorum.Observer.shutdown(Observer.java:164)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1014)
2015-06-05 07:33:02,530 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):ObserverZooKeeperServer@136] - ZooKeeper server is not running, so not proceeding to shutdown!
2015-06-05 07:33:02,530 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@1070] - PeerState set to LOOKING
2015-06-05 07:33:02,530 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@945] - LOOKING
2015-06-05 07:33:02,530 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@874] - Initializing leader election protocol...
2015-06-05 07:33:02,530 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@790] - Updating proposal: -9223372036854775808 (newleader), 0x100000000 (newzxid), -1 (oldleader), 0xffffffffffffffff (oldzxid)
2015-06-05 07:33:02,530 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@889] - New election. My id =  2, proposed zxid=0x100000000
2015-06-05 07:33:02,530 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@673] - Sending Notification: -9223372036854775808 (n.leader), 0x100000000 (n.zxid), 0x1 (n.round), 1 (recipient), 2 (myid), 0x1 (n.peerEpoch)
2015-06-05 07:33:02,531 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.1: /192.168.42.1
2015-06-05 07:33:02,531 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.1: /192.168.42.1
2015-06-05 07:33:02,531 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@440] - Opening channel to server 1
2015-06-05 07:33:02,536 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager@446] - Connected to server 1
2015-06-05 07:33:02,537 [myid:2] - DEBUG [WorkerSender[myid=2]:QuorumCnxManager$SendWorker@725] - Address of remote peer: 1
2015-06-05 07:33:02,687 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@336] - Receive new notification message. My id = 2
2015-06-05 07:33:02,687 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 1 (n.sid), 0x0 (n.peerEPoch), LOOKING (my state)0 (n.config version)
2015-06-05 07:33:02,687 [myid:2] - DEBUG [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@336] - Receive new notification message. My id = 2
2015-06-05 07:33:02,687 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@812] - I'm a participant: 2
2015-06-05 07:33:02,687 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@683] - Notification: 2 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 1 (n.sid), 0x1 (n.peerEPoch), LOOKING (my state)100000000 (n.config version)
2015-06-05 07:33:02,688 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@637] - About to leave FLE instance: leader=1, zxid=0x0, my id=2, my state=FOLLOWING
2015-06-05 07:33:02,688 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):MBeanRegistry@119] - Unregister MBean [org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=LeaderElection]
2015-06-05 07:33:02,688 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@1021] - FOLLOWING
2015-06-05 07:33:02,689 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):ZooKeeperServer@825] - minSessionTimeout set to 4000
2015-06-05 07:33:02,690 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):ZooKeeperServer@834] - maxSessionTimeout set to 40000
2015-06-05 07:33:02,690 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):ZooKeeperServer@156] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /zk_data/version-2 snapdir /zk_data/version-2
2015-06-05 07:33:02,690 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Follower@66] - FOLLOWING - LEADER ELECTION TOOK - 1
2015-06-05 07:33:02,958 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Learner@366] - Getting a diff from the leader 0x100000000
2015-06-05 07:33:02,958 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Learner@509] - Learner received NEWLEADER message
2015-06-05 07:33:02,959 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FileTxnSnapLog@298] - Snapshotting: 0x100000000 to /zk_data/version-2/snapshot.100000000
2015-06-05 07:33:03,065 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Learner@493] - Learner received UPTODATE message
2015-06-05 07:33:03,066 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@1369] - 2 setQuorumVerifier called with known or old config 4294967296. Current version: 4294967296
2015-06-05 07:33:03,069 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@252] - Configuring CommitProcessor with 4 worker threads.
2015-06-05 07:33:04,394 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-06-05 07:33:04,721 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-06-05 07:33:05,826 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:2181:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /192.168.42.254:59973
2015-06-05 07:33:05,829 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@836] - Processing stat command from /192.168.42.254:59973
2015-06-05 07:33:05,831 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn$StatCommand@685] - Stat command output
2015-06-05 07:33:05,831 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@1007] - Closed socket connection for client /192.168.42.254:59973 (no session established for client)
2015-06-05 07:33:06,167 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):Follower@122] - Got zxid 0x100000001 expected 0x1
2015-06-05 07:33:06,167 [myid:2] - INFO  [SyncThread:2:FileTxnLog@200] - Creating new log file: log.100000001
2015-06-05 07:33:06,285 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x300064525480000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
2015-06-05 07:33:06,285 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@92] - Processing request:: sessionid:0x300064525480000 type:createSession cxid:0x0 zxid:0x100000001 txntype:-10 reqpath:n/a
2015-06-05 07:33:06,509 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x300064525480000 type:create cxid:0x1 zxid:0x100000002 txntype:1 reqpath:n/a
2015-06-05 07:33:06,509 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@92] - Processing request:: sessionid:0x300064525480000 type:create cxid:0x1 zxid:0x100000002 txntype:1 reqpath:n/a
2015-06-05 07:33:07,150 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x100064521a40000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
2015-06-05 07:33:07,150 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@92] - Processing request:: sessionid:0x100064521a40000 type:createSession cxid:0x0 zxid:0x100000003 txntype:-10 reqpath:n/a
2015-06-05 07:33:07,380 [myid:2] - INFO  [/192.168.42.2:3888:QuorumCnxManager$Listener@637] - Received connection request /192.168.42.3:37798
2015-06-05 07:33:07,433 [myid:2] - DEBUG [/192.168.42.2:3888:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
2015-06-05 07:33:07,475 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@917] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
2015-06-05 07:33:07,475 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
2015-06-05 07:33:07,475 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
2015-06-05 07:33:07,476 [myid:2] - DEBUG [RecvWorker:1:QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=1
2015-06-05 07:33:07,476 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
2015-06-05 07:33:07,476 [myid:2] - DEBUG [SendWorker:1:QuorumCnxManager$SendWorker@743] - Calling finish for 1
2015-06-05 07:33:07,476 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 1 my id = 2
2015-06-05 07:33:07,597 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@1329] - Restarting Leader Election
2015-06-05 07:33:07,597 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@652] - Shutting down connection manager
2015-06-05 07:33:07,597 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@537] - Halting listener
2015-06-05 07:33:07,598 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=/192.168.42.2,localport=3888]
2015-06-05 07:33:07,598 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$Listener@683] - Closing listener: 2
2015-06-05 07:33:07,598 [myid:2] - INFO  [/192.168.42.2:3888:QuorumCnxManager$Listener@659] - Leaving listener
2015-06-05 07:33:07,598 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@554] - Halting sender: Thread[SendWorker:3,5,main]
2015-06-05 07:33:07,598 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$SendWorker@743] - Calling finish for 3
2015-06-05 07:33:07,599 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
2015-06-05 07:33:07,599 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@654] - Shutting down messenger
2015-06-05 07:33:07,599 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
2015-06-05 07:33:07,599 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
2015-06-05 07:33:07,599 [myid:2] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
2015-06-05 07:33:07,599 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
2015-06-05 07:33:07,599 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@656] - FLE is down
2015-06-05 07:33:07,600 [myid:2] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
2015-06-05 07:33:07,600 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 2
2015-06-05 07:33:07,600 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x100064521a40000 type:reconfig cxid:0x1 zxid:0x100000004 txntype:16 reqpath:n/a
2015-06-05 07:33:07,600 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.2: /192.168.42.2
2015-06-05 07:33:07,600 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@92] - Processing request:: sessionid:0x100064521a40000 type:reconfig cxid:0x1 zxid:0x100000004 txntype:16 reqpath:n/a
2015-06-05 07:33:07,601 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.2: /192.168.42.2
2015-06-05 07:33:07,601 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: /192.168.42.2:3888
2015-06-05 07:33:08,313 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x300064525480001 type:createSession cxid:0x0 zxid:0x100000005 txntype:-10 reqpath:n/a
2015-06-05 07:33:08,314 [myid:2] - DEBUG [CommitProcWorkThread-2:FinalRequestProcessor@92] - Processing request:: sessionid:0x300064525480001 type:createSession cxid:0x0 zxid:0x100000005 txntype:-10 reqpath:n/a
2015-06-05 07:33:08,537 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-06-05 07:33:08,603 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x300064525480001 type:create cxid:0x1 zxid:0x100000006 txntype:1 reqpath:n/a
2015-06-05 07:33:08,603 [myid:2] - DEBUG [CommitProcWorkThread-2:FinalRequestProcessor@92] - Processing request:: sessionid:0x300064525480001 type:create cxid:0x1 zxid:0x100000006 txntype:1 reqpath:n/a
2015-06-05 07:33:08,688 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-06-05 07:33:09,467 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x100064521a40001 type:createSession cxid:0x0 zxid:0x100000007 txntype:-10 reqpath:n/a
2015-06-05 07:33:09,468 [myid:2] - DEBUG [CommitProcWorkThread-2:FinalRequestProcessor@92] - Processing request:: sessionid:0x100064521a40001 type:createSession cxid:0x0 zxid:0x100000007 txntype:-10 reqpath:n/a
2015-06-05 07:33:09,679 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.3: /192.168.42.3
2015-06-05 07:33:09,680 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@440] - Opening channel to server 3
2015-06-05 07:33:09,682 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@446] - Connected to server 3
2015-06-05 07:33:09,683 [myid:2] - INFO  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@278] - Have smaller server identifier, so dropping the connection: (3, 2)
2015-06-05 07:33:09,714 [myid:2] - INFO  [/192.168.42.2:3888:QuorumCnxManager$Listener@637] - Received connection request /192.168.42.3:37874
2015-06-05 07:33:09,755 [myid:2] - DEBUG [/192.168.42.2:3888:QuorumCnxManager$SendWorker@725] - Address of remote peer: 3
2015-06-05 07:33:10,032 [myid:2] - WARN  [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumPeer@1329] - Restarting Leader Election
2015-06-05 07:33:10,032 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@652] - Shutting down connection manager
2015-06-05 07:33:10,032 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@537] - Halting listener
2015-06-05 07:33:10,033 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$Listener@681] - Trying to close listener: ServerSocket[addr=/192.168.42.2,localport=3888]
2015-06-05 07:33:10,033 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$Listener@683] - Closing listener: 2
2015-06-05 07:33:10,033 [myid:2] - INFO  [/192.168.42.2:3888:QuorumCnxManager$Listener@659] - Leaving listener
2015-06-05 07:33:10,033 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager@554] - Halting sender: Thread[SendWorker:3,5,main]
2015-06-05 07:33:10,033 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$SendWorker@743] - Calling finish for 3
2015-06-05 07:33:10,034 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@834] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:986)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:63)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:822)
2015-06-05 07:33:10,034 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@917] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:152)
	at java.net.SocketInputStream.read(SocketInputStream.java:122)
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:902)
2015-06-05 07:33:10,034 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):QuorumCnxManager$SendWorker@763] - Removing entry from senderWorkerMap sid=3
2015-06-05 07:33:10,035 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@654] - Shutting down messenger
2015-06-05 07:33:10,035 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):FastLeaderElection@656] - FLE is down
2015-06-05 07:33:10,034 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@920] - Interrupting SendWorker
2015-06-05 07:33:10,035 [myid:2] - DEBUG [SendWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
2015-06-05 07:33:10,035 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@843] - Send worker leaving thread  id 3 my id = 2
2015-06-05 07:33:10,035 [myid:2] - DEBUG [RecvWorker:3:QuorumCnxManager$SendWorker@743] - Calling finish for 3
2015-06-05 07:33:10,036 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x100064521a40001 type:reconfig cxid:0x1 zxid:0x100000008 txntype:16 reqpath:n/a
2015-06-05 07:33:10,036 [myid:2] - DEBUG [CommitProcWorkThread-2:FinalRequestProcessor@92] - Processing request:: sessionid:0x100064521a40001 type:reconfig cxid:0x1 zxid:0x100000008 txntype:16 reqpath:n/a
2015-06-05 07:33:10,036 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.2: /192.168.42.2
2015-06-05 07:33:10,036 [myid:2] - DEBUG [QuorumPeerListener:QuorumPeer$QuorumServer@170] - Resolved address for 192.168.42.2: /192.168.42.2
2015-06-05 07:33:10,036 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@631] - My election bind port: /192.168.42.2:3888
2015-06-05 07:33:10,601 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@435] - WorkerReceiver is down
2015-06-05 07:33:10,601 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@465] - WorkerSender is down
2015-06-05 07:33:19,470 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x100064521a40002 type:createSession cxid:0x0 zxid:0x100000009 txntype:-10 reqpath:n/a
2015-06-05 07:33:19,470 [myid:2] - DEBUG [CommitProcWorkThread-3:FinalRequestProcessor@92] - Processing request:: sessionid:0x100064521a40002 type:createSession cxid:0x0 zxid:0x100000009 txntype:-10 reqpath:n/a
2015-06-05 07:33:20,234 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x100064521a40003 type:createSession cxid:0x0 zxid:0x10000000a txntype:-10 reqpath:n/a
2015-06-05 07:33:20,235 [myid:2] - DEBUG [CommitProcWorkThread-4:FinalRequestProcessor@92] - Processing request:: sessionid:0x100064521a40003 type:createSession cxid:0x0 zxid:0x10000000a txntype:-10 reqpath:n/a
2015-06-05 07:33:20,956 [myid:2] - DEBUG [QuorumPeer[myid=2](plain=/0:0:0:0:0:0:0:0:2181)(secure=disabled):CommitProcessor@325] - Committing request:: sessionid:0x100064521a40004 type:createSession cxid:0x0 zxid:0x10000000b txntype:-10 reqpath:n/a
2015-06-05 07:33:20,957 [myid:2] - DEBUG [CommitProcWorkThread-1:FinalRequestProcessor@92] - Processing request:: sessionid:0x100064521a40004 type:createSession cxid:0x0 zxid:0x10000000b txntype:-10 reqpath:n/a
2015-06-05 07:33:21,525 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:2181:NIOServerCnxnFactory$AcceptThread@296] - Accepted socket connection from /192.168.42.254:60187
2015-06-05 07:33:21,529 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@836] - Processing stat command from /192.168.42.254:60187
2015-06-05 07:33:21,529 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn$StatCommand@685] - Stat command output
2015-06-05 07:33:21,530 [myid:2] - INFO  [NIOWorkerThread-2:NIOServerCnxn@1007] - Closed socket connection for client /192.168.42.254:60187 (no session established for client)
